<!DOCTYPE html>
<html lang="en">
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Book Now</title>
  <link
          rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css"
          integrity="sha512-YWzhKL2whUzgiheMoBFwW8CKV4qpHQAEuvilg9FAn5VJUDwKZZxkJNuGM4XkWuk94WCrrwslk8yWNGmY1EduTA=="
          crossorigin="anonymous"
          referrerpolicy="no-referrer"
  />
  <link rel="shortcut icon" type="x-icon" th:href="@{~/img/logo.png}">
  <link rel="stylesheet" th:href="@{~/css/form.css}">
</head>
<body>
<div class="form">
  <div class="contact-info">

    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3594581.3575326405!2d81.88618901827874!3d28.378997744709725!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3995e8c77d2e68cf%3A0x34a29abcd0cc86de!2sNepal!5e0!3m2!1sen!2snp!4v1676274450540!5m2!1sen!2snp" width="800" height="450" style="border:10;" allowfullscreen="yes" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
  </div>

  <div class="contact-form">
    <h3>Edit Your Booking</h3>

    <form th:method="post" th:action="@{~/book/savebook}" th:object="${booking}">
      <input class="field" type="text" hidden placeholder="UserId..."  th:field="*{id}" th:value="${clickedbook.getId()}"/>
      <input class="field" type="text" hidden placeholder="UserId..."  th:field="*{destId}" th:value="${clickedbook.getDestId()}"/>
      <input class="field" type="text" hidden placeholder="UserId..."  th:field="*{userId}" th:value="${clickedbook.getUserId()}"/>
      <div class="all">
        <div class="form-group">
          <label for="departure-date">Departure:</label>
          <input type="date" id="departure-date" th:field="*{checkin}" th:value="${clickedbook.getCheckin()}">
        </div>
        <div class="form-group">
          <label for="return-date">Arrival:</label>
          <input type="date" id="return-date" th:field="*{checkout}" th:value="${clickedbook.getCheckout()}" >
        </div>
        <div class="form-group">
          <label for="num-travelers">Contact:</label>
          <input type="text" id="num-travelers"  placeholder="Phone Number" th:field="*{people}" th:value="${clickedbook.getPeople()}">
        </div>
        <div class="form-group">
         <a th:href="@{~/book/editbook}+${clickedbook.id}"> <button type="submit">Edit</button></a>
        </div>
      </div>
    </form>
  </div>
</div>
<script>
  const today = new Date();
  const dd = String(today.getDate()).padStart(2, '0');
  const mm = String(today.getMonth() + 1).padStart(2, '0');
  const yyyy = today.getFullYear();

  const minDate = yyyy + '-' + mm + '-' + dd;

  document.querySelector("#departure-date").min = minDate;
  document.querySelector("#return-date").min = minDate;
</script>
</body>
</html>